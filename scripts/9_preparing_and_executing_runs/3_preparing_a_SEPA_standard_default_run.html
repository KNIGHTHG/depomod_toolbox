<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="generator" content="MATLAB R2018a"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><title>Preparing a SEPA standard default run</title><style type="text/css">
* {margin: 0; padding: 0;}
body {text-align: start; line-height: 17.2339992523193px; min-height: 0px; white-space: normal; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-size: 14px; font-weight: normal; text-decoration: none; white-space: normal; }
h1, h2 {font-weight: normal;}
.content { padding: 30px; }

.S0 { margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 0px;  }
.S1 { text-align: left; line-height: 26.3999996185303px; min-height: 24px; white-space: pre-wrap; color: rgb(213, 80, 0); font-family: Helvetica, Arial, sans-serif; font-size: 22px; white-space: pre-wrap; margin-left: 4px; margin-top: 3px; margin-bottom: 15px; margin-right: 10px;  }
.S2 { min-height: 0px; margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 0px;  }
.S3 { text-align: left; line-height: 21px; min-height: 17px; white-space: pre-wrap; font-family: Helvetica, Arial, sans-serif; white-space: pre-wrap; margin-left: 4px; margin-top: 2px; margin-bottom: 9px; margin-right: 10px;  }
.S4 { text-decoration: underline; margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 0px;  }
.S5 { text-align: left; line-height: 20.576000213623px; min-height: 20px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-size: 16px; font-weight: bold; white-space: pre-wrap; margin-left: 4px; margin-top: 3px; margin-bottom: 9px; margin-right: 10px;  }
.S6 { margin-left: 3px; margin-top: 10px; margin-bottom: 10px; margin-right: 3px;  }
.S7 { min-height: 18px; white-space: nowrap; white-space: nowrap; margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 0px;  }
.S8 { min-height: 0px; white-space: pre; white-space: pre; margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 0px;  }
.S9 { text-align: left; line-height: 21px; min-height: 17px; white-space: pre-wrap; font-family: Helvetica, Arial, sans-serif; white-space: pre-wrap; margin-left: 4px; margin-top: 10px; margin-bottom: 9px; margin-right: 10px;  }
.S10 { color: rgb(160, 32, 240); margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 0px;  }
.S11 { color: rgb(34, 139, 34); margin-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-right: 0px;  }
.S12 { margin-left: 3px; margin-top: 10px; margin-bottom: 4px; margin-right: 3px;  }

.CodeBlock {margin: 10px 0 10px 0; background-color: #F7F7F7;}
.CodeBlock+.paragraphNode {margin-top: 10px;}
.lineNode {padding-left: 10px; border-left: 1px solid #E9E9E9; border-right: 1px solid #E9E9E9;}
.inlineWrapper:first-child .lineNode,.inlineWrapper.outputs+.inlineWrapper .lineNode {padding-top: 5px; border-top: 1px solid #E9E9E9;}
.inlineWrapper:last-child .lineNode,.inlineWrapper.outputs .lineNode {padding-bottom: 5px; border-bottom: 1px solid #E9E9E9;}
.lineNode .textBox {white-space: pre;}
</style></head><body><div class = "content"><div class = 'SectionBlock containment active'><h1 class = "S1"><span class = "S2"><span class="S0">Preparing a SEPA standard default run</span></span></h1><div class = "S3"><span class = "S2"><span class="S0">This guide explains how to configure a run to conform with the standard default approach required by SEPA.</span></span></div><div class = "S3"><span class = "S2"><span class="S0">This is provided as guidance only. </span></span><span class = "S2"><span class="S4">It is the responsibility of applicants to SEPA to check their modelling configuration with respect to published quidance and requirements.</span></span></div></div><div class = "S0"></div><div class = 'SectionBlock containment'><h2 class = "S5"><span class = "S2"><span class="S0">Preparing an organic solids run</span></span></h2><div class = "S3"><span class = "S2"><span class="S0">Create a new run (or instantiate an existing run).</span></span></div><div class = 'CodeBlock contiguous'><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">run = project.solidsRuns.new</span></span></div></div></div><div class = "S9"><span class = "S2"><span class="S0">Set the run duration and ensure the cage and inputs files are synchronised</span></span></div><div class = 'CodeBlock contiguous'><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">run.setRunDurationDays(365)</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">run.syncCageID</span></span></div></div></div><div class = "S9"><span class = "S2"><span class="S0">Set the required output times</span></span></div><div class = 'CodeBlock contiguous'><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">run.clearOutputTimes</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">run.setOutputTimesFromEnd(90, 3600*3)</span></span></div></div></div><div class = "S9"><span class = "S2"><span class="S0">Configure the model properties file.</span></span></div><div class = 'CodeBlock contiguous'><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">modelFile = run.modelFile;</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">modelFile.ModelTime.delta=</span><span class="S10">'60000'</span><span class="S0">         </span><span class="S11">% 1 min time step</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">modelFile.Model.run.numberOfParticles=</span><span class="S10">'1'</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">modelFile.toFile; </span></span></div></div></div><div class = "S9"><span class = "S2"><span class="S0">Specify the biomass and configure the inputs properties file</span></span></div><div class = 'CodeBlock contiguous'><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">biomass = 1000 </span><span class="S11">% t</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile = run.inputsFile</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.setBiomass(biomass, </span><span class="S10">'days'</span><span class="S0">, 365)</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.FeedInputs.biomass = num2str(biomass)                                          </span><span class="S11">% nominal, not used</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.FeedInputs.stockingDensity = num2str(biomass * 1000.0 / run.cages.cageVolume); </span><span class="S11">% nominal, not usedinputsFile.toFile</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.Particle.consolidationTimeOfFaeces = </span><span class="S10">'0.0'</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.Particle.consolidationTimeOfFeed   = </span><span class="S10">'0.0'</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.Particle.settlingVelocityOfFaeces.location     = num2str(-0.032);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.Particle.settlingVelocityOfFaeces.dispersion   = num2str(0.032/10.0);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.Particle.settlingVelocityOfFaeces.distribution = </span><span class="S10">'GAUSSIAN'</span><span class="S0">;</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.Particle.settlingVelocityOfFeed.location       = num2str(-0.095);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.Particle.settlingVelocityOfFeed.dispersion     = num2str(0.095/10.0);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.Particle.settlingVelocityOfFeed.distribution   = </span><span class="S10">'GAUSSIAN'</span><span class="S0">;</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.toFile</span></span></div></div></div><div class = "S9"><span class = "S2"><span class="S0">Calculate the vertical, resuspension dispersion coefficient</span></span></div><div class = 'CodeBlock contiguous'><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">mean_bed_speed = 0.0591 </span><span class="S11">% m/s</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">vdsp = 0.0003 * mean_bed_speed^(-0.762)  </span></span></div></div></div><div class = "S9"><span class = "S2"><span class="S0">Configure the physical properties file</span></span></div><div class = 'CodeBlock contiguous'><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties = run.physicalPropertiesFile;</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.regime.frictionvelocity.type = </span><span class="S10">'LAWOFTHEWALL'</span><span class="S0">;</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.tauECritMin         = num2str(0.02);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.bottomRoughnessLength.smooth = num2str(sqrt(0.054*0.00003),</span><span class="S10">'%.6f'</span><span class="S0">);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.releaseHeight.height              = num2str(0.0);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.releaseParticles.particlesPerArea = num2str(0.0016);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.massErosionCoefficient = num2str(0.031);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.massErosionExponent    = num2str(1.0);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.settlingVelocityOfSediment.location     = num2str(-0.032);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.settlingVelocityOfSediment.dispersion   = num2str(0.032/10.0);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.settlingVelocityOfSediment.distribution = </span><span class="S10">'GAUSSIAN'</span><span class="S0">;</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.suspension.walker.dispersionCoefficientX   = num2str(0.1);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.suspension.walker.dispersionCoefficientY   = num2str(0.1);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.suspension.walker.dispersionCoefficientZ   = num2str(0.001);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.resuspension.walker.dispersionCoefficientX = num2str(0.1);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.resuspension.walker.dispersionCoefficientY = num2str(0.1);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.resuspension.walker.dispersionCoefficientZ = num2str(vdsp,</span><span class="S10">'%.8f'</span><span class="S0">);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.suspension.walker.type   = </span><span class="S10">'LATTICEWALKER'</span><span class="S0">;</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.resuspension.walker.type = </span><span class="S10">'LATTICEWALKER'</span><span class="S0">;</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.suspension.settling.modifiedSettling   =</span><span class="S10">'false'</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.suspension.settling.allowBuoyant       =</span><span class="S10">'false'</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.resuspension.settling.modifiedSettling =</span><span class="S10">'false'</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.resuspension.settling.allowBuoyant     =</span><span class="S10">'false'</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.densityOfMud.location = num2str(1400.0)</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Eqs.slice.rhoBulk                         = num2str(1400.0);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.dLayerMass            = num2str(3375.0) </span><span class="S11">%</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.expansionT50          = num2str(1.0) </span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.contractionT50        = </span><span class="S10">'Infinity'</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.numberOfLayers        = num2str(3.0) </span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.internalFrictionAngle = num2str(23.0)</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.toFile;</span></span></div></div></div></div><div class = "S0"></div><div class = 'SectionBlock containment'><h2 class = "S5"><span class = "S2"><span class="S0">Preparing an EmBZ run</span></span></h2><div class = "S3"><span class = "S2"><span class="S0">Create a new run (or instantiate an existing run).</span></span></div><div class = 'CodeBlock contiguous'><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">run = project.EmBZRuns.new</span></span></div></div></div><div class = "S9"><span class = "S2"><span class="S0">Set the run duration and ensure the cage and inputs files are synchronised</span></span></div><div class = 'CodeBlock contiguous'><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">run.setRunDurationDays(118)</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">run.syncCageID</span></span></div></div></div><div class = "S9"><span class = "S2"><span class="S0">Set the required output times</span></span></div><div class = 'CodeBlock contiguous'><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">run.clearOutputTimes</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">run.setOutputTimesFromEnd(2, 3600*3)</span></span></div></div></div><div class = "S9"><span class = "S2"><span class="S0">Configure the model properties file.</span></span></div><div class = 'CodeBlock contiguous'><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">modelFile = run.modelFile;</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">modelFile.ModelTime.delta=</span><span class="S10">'60000'</span><span class="S0">         </span><span class="S11">% 1 min time step</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">modelFile.Model.run.numberOfParticles=</span><span class="S10">'1'</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">modelFile.toFile; </span></span></div></div></div><div class = "S9"><span class = "S2"><span class="S0">Specify the biomass and treatment quantity and configure the inputs properties file</span></span></div><div class = 'CodeBlock contiguous'><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">biomass  = 1500 </span><span class="S11">% t</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">medicine =  525 </span><span class="S11">% g</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile = run.inputsFile</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.setBiomass(biomass, </span><span class="S10">'days'</span><span class="S0">, 118)</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.setEMBZQuantity(medicine)</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.FeedInputs.biomass = num2str(biomass)                                          </span><span class="S11">% nominal, not used</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.FeedInputs.stockingDensity = num2str(biomass * 1000.0 / run.cages.cageVolume); </span><span class="S11">% nominal, not usedinputsFile.toFile</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.Particle.consolidationTimeOfFaeces = </span><span class="S10">'0.0'</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.Particle.consolidationTimeOfFeed   = </span><span class="S10">'0.0'</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.Particle.settlingVelocityOfFaeces.location     = num2str(-0.032);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.Particle.settlingVelocityOfFaeces.dispersion   = num2str(0.032/10.0);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.Particle.settlingVelocityOfFaeces.distribution = </span><span class="S10">'GAUSSIAN'</span><span class="S0">;</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.Particle.settlingVelocityOfFeed.location       = num2str(-0.095);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.Particle.settlingVelocityOfFeed.dispersion     = num2str(0.095/10.0);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.Particle.settlingVelocityOfFeed.distribution   = </span><span class="S10">'GAUSSIAN'</span><span class="S0">;</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">inputsFile.toFile</span></span></div></div></div><div class = "S9"><span class = "S2"><span class="S0">Calculate the vertical, resuspension dispersion coefficient</span></span></div><div class = 'CodeBlock contiguous'><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">mean_bed_speed = 0.0591 </span><span class="S11">% m/s</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">vdsp = 0.0003 * mean_bed_speed^(-0.762)  </span></span></div></div></div><div class = "S9"><span class = "S2"><span class="S0">Configure the physical properties file</span></span></div><div class = 'CodeBlock contiguous'><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties = run.physicalPropertiesFile;</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.regime.frictionvelocity.type = </span><span class="S10">'LAWOFTHEWALL'</span><span class="S0">;</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.tauECritMin         = num2str(0.02);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.bottomRoughnessLength.smooth = num2str(sqrt(0.054*0.00003),</span><span class="S10">'%.6f'</span><span class="S0">);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.releaseHeight.height              = num2str(0.0);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.releaseParticles.particlesPerArea = num2str(0.0016);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.massErosionCoefficient = num2str(0.031);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.massErosionExponent    = num2str(1.0);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.settlingVelocityOfSediment.location     = num2str(-0.032);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.settlingVelocityOfSediment.dispersion   = num2str(0.032/10.0);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.settlingVelocityOfSediment.distribution = </span><span class="S10">'GAUSSIAN'</span><span class="S0">;</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.suspension.walker.dispersionCoefficientX   = num2str(0.1);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.suspension.walker.dispersionCoefficientY   = num2str(0.1);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.suspension.walker.dispersionCoefficientZ   = num2str(0.001);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.resuspension.walker.dispersionCoefficientX = num2str(0.1);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.resuspension.walker.dispersionCoefficientY = num2str(0.1);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.resuspension.walker.dispersionCoefficientZ = num2str(vdsp,</span><span class="S10">'%.8f'</span><span class="S0">);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.suspension.walker.type   = </span><span class="S10">'LATTICEWALKER'</span><span class="S0">;</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.resuspension.walker.type = </span><span class="S10">'LATTICEWALKER'</span><span class="S0">;</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.suspension.settling.modifiedSettling   =</span><span class="S10">'false'</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.suspension.settling.allowBuoyant       =</span><span class="S10">'false'</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.resuspension.settling.modifiedSettling =</span><span class="S10">'false'</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.resuspension.settling.allowBuoyant     =</span><span class="S10">'false'</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.densityOfMud.location = num2str(1400.0)</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Eqs.slice.rhoBulk                         = num2str(1400.0);</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.dLayerMass            = num2str(3375.0) </span><span class="S11">%</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.expansionT50          = num2str(1.0) </span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.contractionT50        = </span><span class="S10">'Infinity'</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.numberOfLayers        = num2str(3.0) </span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.Transports.BedModel.internalFrictionAngle = num2str(23.0)</span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0"></span></span></div></div><div class = 'inlineWrapper'><div class = "S7 lineNode"><span class = "S8"><span class="S0">physicalProperties.toFile;</span></span></div></div></div></div><div class = "S0"></div><div class = 'SectionBlock containment'><div class = "S3"><span class = "S2"><span class="S0"></span></span></div></div></div><br><!-- <br>##### SOURCE BEGIN #####<br>%% Preparing a SEPA standard default run<br>% This guide explains how to configure a run to conform with the standard default <br>% approach required by SEPA.<br>% <br>% This is provided as guidance only. It is the responsibility of applicants <br>% to SEPA to check their modelling configuration with respect to published quidance <br>% and requirements.<br>%% Preparing an organic solids run<br>% Create a new run (or instantiate an existing run).<br>%%<br>run = project.solidsRuns.new<br>%% <br>% Set the run duration and ensure the cage and inputs files are synchronised<br><br>run.setRunDurationDays(365)<br>run.syncCageID<br>%% <br>% Set the required output times<br><br>run.clearOutputTimes<br>run.setOutputTimesFromEnd(90, 3600*3)<br>%% <br>% Configure the model properties file.<br><br>modelFile = run.modelFile;<br><br>modelFile.ModelTime.delta='60000'         % 1 min time step<br>modelFile.Model.run.numberOfParticles='1'<br><br>modelFile.toFile; <br>%% <br>% Specify the biomass and configure the inputs properties file<br><br>biomass = 1000 % t<br><br>inputsFile = run.inputsFile<br><br>inputsFile.setBiomass(biomass, 'days', 365)<br>inputsFile.FeedInputs.biomass = num2str(biomass)                                          % nominal, not used<br>inputsFile.FeedInputs.stockingDensity = num2str(biomass * 1000.0 / run.cages.cageVolume); % nominal, not usedinputsFile.toFile<br><br>inputsFile.Particle.consolidationTimeOfFaeces = '0.0'<br>inputsFile.Particle.consolidationTimeOfFeed   = '0.0'<br>inputsFile.Particle.settlingVelocityOfFaeces.location     = num2str(-0.032);<br>inputsFile.Particle.settlingVelocityOfFaeces.dispersion   = num2str(0.032/10.0);<br>inputsFile.Particle.settlingVelocityOfFaeces.distribution = 'GAUSSIAN';<br>inputsFile.Particle.settlingVelocityOfFeed.location       = num2str(-0.095);<br>inputsFile.Particle.settlingVelocityOfFeed.dispersion     = num2str(0.095/10.0);<br>inputsFile.Particle.settlingVelocityOfFeed.distribution   = 'GAUSSIAN';<br><br>inputsFile.toFile<br>%% <br>% Calculate the vertical, resuspension dispersion coefficient<br><br>mean_bed_speed = 0.0591 % m/s<br>vdsp = 0.0003 * mean_bed_speed^(-0.762)  <br>%% <br>% Configure the physical properties file<br><br>physicalProperties = run.physicalPropertiesFile;<br><br>physicalProperties.Transports.regime.frictionvelocity.type = 'LAWOFTHEWALL';<br>physicalProperties.Transports.BedModel.tauECritMin         = num2str(0.02);<br>physicalProperties.Transports.bottomRoughnessLength.smooth = num2str(sqrt(0.054*0.00003),'%.6f');<br><br>physicalProperties.Transports.BedModel.releaseHeight.height              = num2str(0.0);<br>physicalProperties.Transports.BedModel.releaseParticles.particlesPerArea = num2str(0.0016);<br>physicalProperties.Transports.BedModel.massErosionCoefficient = num2str(0.031);<br>physicalProperties.Transports.BedModel.massErosionExponent    = num2str(1.0);<br><br>physicalProperties.Transports.BedModel.settlingVelocityOfSediment.location     = num2str(-0.032);<br>physicalProperties.Transports.BedModel.settlingVelocityOfSediment.dispersion   = num2str(0.032/10.0);<br>physicalProperties.Transports.BedModel.settlingVelocityOfSediment.distribution = 'GAUSSIAN';<br><br>physicalProperties.Transports.suspension.walker.dispersionCoefficientX   = num2str(0.1);<br>physicalProperties.Transports.suspension.walker.dispersionCoefficientY   = num2str(0.1);<br>physicalProperties.Transports.suspension.walker.dispersionCoefficientZ   = num2str(0.001);<br>physicalProperties.Transports.resuspension.walker.dispersionCoefficientX = num2str(0.1);<br>physicalProperties.Transports.resuspension.walker.dispersionCoefficientY = num2str(0.1);<br>physicalProperties.Transports.resuspension.walker.dispersionCoefficientZ = num2str(vdsp,'%.8f');<br><br>physicalProperties.Transports.suspension.walker.type   = 'LATTICEWALKER';<br>physicalProperties.Transports.resuspension.walker.type = 'LATTICEWALKER';<br><br>physicalProperties.Transports.suspension.settling.modifiedSettling   ='false'<br>physicalProperties.Transports.suspension.settling.allowBuoyant       ='false'<br>physicalProperties.Transports.resuspension.settling.modifiedSettling ='false'<br>physicalProperties.Transports.resuspension.settling.allowBuoyant     ='false'<br><br>physicalProperties.Transports.BedModel.densityOfMud.location = num2str(1400.0)<br>physicalProperties.Eqs.slice.rhoBulk                         = num2str(1400.0);<br><br>physicalProperties.Transports.BedModel.dLayerMass            = num2str(3375.0) %<br>physicalProperties.Transports.BedModel.expansionT50          = num2str(1.0) <br>physicalProperties.Transports.BedModel.contractionT50        = 'Infinity'<br>physicalProperties.Transports.BedModel.numberOfLayers        = num2str(3.0) <br>physicalProperties.Transports.BedModel.internalFrictionAngle = num2str(23.0)<br><br>physicalProperties.toFile;<br>%% Preparing an EmBZ run<br>% Create a new run (or instantiate an existing run).<br>%%<br>run = project.EmBZRuns.new<br>%% <br>% Set the run duration and ensure the cage and inputs files are synchronised<br><br>run.setRunDurationDays(118)<br>run.syncCageID<br>%% <br>% Set the required output times<br><br>run.clearOutputTimes<br>run.setOutputTimesFromEnd(2, 3600*3)<br>%% <br>% Configure the model properties file.<br><br>modelFile = run.modelFile;<br><br>modelFile.ModelTime.delta='60000'         % 1 min time step<br>modelFile.Model.run.numberOfParticles='1'<br><br>modelFile.toFile; <br>%% <br>% Specify the biomass and treatment quantity and configure the inputs properties <br>% file<br><br>biomass  = 1500 % t<br>medicine =  525 % g<br><br>inputsFile = run.inputsFile<br><br>inputsFile.setBiomass(biomass, 'days', 118)<br>inputsFile.setEMBZQuantity(medicine)<br>inputsFile.FeedInputs.biomass = num2str(biomass)                                          % nominal, not used<br>inputsFile.FeedInputs.stockingDensity = num2str(biomass * 1000.0 / run.cages.cageVolume); % nominal, not usedinputsFile.toFile<br><br>inputsFile.Particle.consolidationTimeOfFaeces = '0.0'<br>inputsFile.Particle.consolidationTimeOfFeed   = '0.0'<br>inputsFile.Particle.settlingVelocityOfFaeces.location     = num2str(-0.032);<br>inputsFile.Particle.settlingVelocityOfFaeces.dispersion   = num2str(0.032/10.0);<br>inputsFile.Particle.settlingVelocityOfFaeces.distribution = 'GAUSSIAN';<br>inputsFile.Particle.settlingVelocityOfFeed.location       = num2str(-0.095);<br>inputsFile.Particle.settlingVelocityOfFeed.dispersion     = num2str(0.095/10.0);<br>inputsFile.Particle.settlingVelocityOfFeed.distribution   = 'GAUSSIAN';<br><br>inputsFile.toFile<br>%% <br>% Calculate the vertical, resuspension dispersion coefficient<br><br>mean_bed_speed = 0.0591 % m/s<br>vdsp = 0.0003 * mean_bed_speed^(-0.762)  <br>%% <br>% Configure the physical properties file<br><br>physicalProperties = run.physicalPropertiesFile;<br><br>physicalProperties.Transports.regime.frictionvelocity.type = 'LAWOFTHEWALL';<br>physicalProperties.Transports.BedModel.tauECritMin         = num2str(0.02);<br>physicalProperties.Transports.bottomRoughnessLength.smooth = num2str(sqrt(0.054*0.00003),'%.6f');<br><br>physicalProperties.Transports.BedModel.releaseHeight.height              = num2str(0.0);<br>physicalProperties.Transports.BedModel.releaseParticles.particlesPerArea = num2str(0.0016);<br>physicalProperties.Transports.BedModel.massErosionCoefficient = num2str(0.031);<br>physicalProperties.Transports.BedModel.massErosionExponent    = num2str(1.0);<br><br>physicalProperties.Transports.BedModel.settlingVelocityOfSediment.location     = num2str(-0.032);<br>physicalProperties.Transports.BedModel.settlingVelocityOfSediment.dispersion   = num2str(0.032/10.0);<br>physicalProperties.Transports.BedModel.settlingVelocityOfSediment.distribution = 'GAUSSIAN';<br><br>physicalProperties.Transports.suspension.walker.dispersionCoefficientX   = num2str(0.1);<br>physicalProperties.Transports.suspension.walker.dispersionCoefficientY   = num2str(0.1);<br>physicalProperties.Transports.suspension.walker.dispersionCoefficientZ   = num2str(0.001);<br>physicalProperties.Transports.resuspension.walker.dispersionCoefficientX = num2str(0.1);<br>physicalProperties.Transports.resuspension.walker.dispersionCoefficientY = num2str(0.1);<br>physicalProperties.Transports.resuspension.walker.dispersionCoefficientZ = num2str(vdsp,'%.8f');<br><br>physicalProperties.Transports.suspension.walker.type   = 'LATTICEWALKER';<br>physicalProperties.Transports.resuspension.walker.type = 'LATTICEWALKER';<br><br>physicalProperties.Transports.suspension.settling.modifiedSettling   ='false'<br>physicalProperties.Transports.suspension.settling.allowBuoyant       ='false'<br>physicalProperties.Transports.resuspension.settling.modifiedSettling ='false'<br>physicalProperties.Transports.resuspension.settling.allowBuoyant     ='false'<br><br>physicalProperties.Transports.BedModel.densityOfMud.location = num2str(1400.0)<br>physicalProperties.Eqs.slice.rhoBulk                         = num2str(1400.0);<br><br>physicalProperties.Transports.BedModel.dLayerMass            = num2str(3375.0) %<br>physicalProperties.Transports.BedModel.expansionT50          = num2str(1.0) <br>physicalProperties.Transports.BedModel.contractionT50        = 'Infinity'<br>physicalProperties.Transports.BedModel.numberOfLayers        = num2str(3.0) <br>physicalProperties.Transports.BedModel.internalFrictionAngle = num2str(23.0)<br><br>physicalProperties.toFile;<br>%% <br>%<br>##### SOURCE END #####<br>--></body></html>